<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>README_temp</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    html { -webkit-text-size-adjust: 100%; }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { color: #008000; } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { color: #008000; font-weight: bold; } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="pandoc.css" />
</head>
<body>
<h1 id="bam2airsim-ros-node-package">Bam2Airsim ROS Node Package</h1>
<p><a href="../README.html#bam-visualization-tools">Back..</a></p>
<h2 id="version-1.0"><strong>Version:</strong> 1.0</h2>
<h2 id="overview">Overview</h2>
<p>This node package acts as a real-time server between BAM and an
Airsim equipped Unreal Environment application. Once started, the
package will start up two subscriber nodes (depending on settings): one
for a multirotor aircraft and one for a baseball. After they have
received published messages, the subscriber classes will translate the
data and then transmit it via Airsim’s client interface.<br />
The change should then be visible in the Unreal Environment unless
something has gone wrong during configuration. The node logs should
issue an error message if this is the case.</p>
<h2 id="nodes">Nodes</h2>
<h3 id="bam2airsim">1. Bam2Airsim</h3>
<p>The main node application that acts as a server between BAM and an
Airsim Unreal Environment. Once started, the application will initiate
subscribers to the topics tied to BAM’s multirotor and baseball pose
message outputs. Upon receiving the messages, the node will relay the
information to Airsim, which will update the visualization of the the
data. The update rate depends completely on the publisher transmission
rate.</p>
<h3 id="testposepub">2. TestPosePub</h3>
<p>This supplemental application provides stub data across the pose
topics for Bam2Airsim to test with (or validate data connection). The
multi-rotor and baseball actors will be given circular flights around
the spawn point in the Unreal Environment.</p>
<h2 id="operation">Operation</h2>
<p>Both applications are run like any standard ROS node application</p>
<pre class="console"><code>&gt;&gt; ros2 run bam_2_airsim_pkg Bam2Airsim &lt;UserArgs&gt; --ros-args &lt;RosArgs&gt;</code></pre>
<p>Both applications can make use of two command line arguments: -
<strong>-nobb</strong> - Disables the baseball part of the node. Useful
for rotor only testing. - <strong>-do</strong> - Enable debugging
output, which will log the position updates into the node specific log
files. (located under the <em>workspace/bam_2_airsim_pkg/log/</em>)</p>
<p>As an example, the following code will run Bam2Airsim with the
baseball inactive.</p>
<pre class="console"><code>&gt;&gt; ros2 run bam_2_airsim_pkg Bam2Airsim -nobb</code></pre>
<p>As another example, the following code will run TestPosePub with pose
data debug logging active.</p>
<div class="sourceCode" id="cb3"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;</span> ros2 run bam_2_airsim_pkg TestPosePub <span class="op">-</span>do</span></code></pre></div>
<h2 id="requirements">Requirements</h2>
<ul>
<li>ROS2 Environment</li>
<li>(For Unreal 4) Airsim Source Code &amp; supporting libraries (Airsim
- https://github.com/microsoft/AirSim)</li>
<li>(For Unreal 5+) Colosseum Upgraded Airsim Code &amp; libraries
(Colosseum - https://github.com/CodexLabsLLC/Colosseum)</li>
<li>Unreal Environment Application w/ Airsim Plugin Installed
<ul>
<li>One Airsim multi-rotor aircraft named “Drone”</li>
<li>Baseball asset “BamBaseball” installed within the Unreal environment
(see BamEcho documentation)</li>
</ul></li>
<li>BAM Simulator or some other Bam compliant data publisher.</li>
<li>ROS Topics Expected by the Subscriber:
<ul>
<li>Multirotor - “/pub_pose”</li>
<li>Baseball - “/bball_pub_pose”</li>
</ul></li>
</ul>
<h2 id="important-developer-note">Important Developer Note</h2>
<p>This software was developed under Unreal 5+ and Colosseum’s fork of
Airsim. There could be issues if a user were to build and operate with
Airsim core and Unreal 4. There could be other issues depending on which
version of Unreal 5 is used. For example, it was found that Colosseums
version of “simSpawnObject” in the c++ API was broken within the
development environment, because Unreal Engine’s
“WorldSimApi-&gt;spawnObject()” required a slightly different function
argument list than Airsim / Colosseum had bound. Alternatively, it may
have been missed when Colosseum updated Airsim to Unreal 5. If you need
assistance with this or have questions, the lead developer can be
contacted at daniel.r.hill@nasa.gov</p>
<h2 id="version-history">Version History</h2>
<ul>
<li><strong>.8</strong> - Initial Beta. Establishes the two basic
subscribers and validity checks on Airsim / Unreal.</li>
<li><strong>1.0</strong> - First full release. Handles both baseball and
multirotor data transmissions to Airsim / Unreal; validated in testing.
Does environment / configuration checks to ensure Unreal is ready for
BAM data.</li>
</ul>
<p><a href="../README.html#bam-visualization-tools">Back..</a></p>
</body>
</html>
